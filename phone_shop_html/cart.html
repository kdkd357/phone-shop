<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Phone Shop - cart-btn</title>
  <style>
    body{font-family: Arial, sans-serif;margin:0;color:#111;}
    .container{max-width:900px;margin:24px auto;padding:12px;}
    table{width:100%;border-collapse:collapse;margin-top:12px;}
    th,td{border:1px solid #eee;padding:10px;text-align:left;}
    .qty{display:flex;gap:6px;align-items:center;}
    .qty button{padding:6px 8px;border-radius:4px;border:1px solid #ddd;background:#f8f8f8;cursor:pointer;}
    .checkout{display:flex;justify-content:flex-end;margin-top:12px;gap:12px;}
    .pay-btn{background:#28a745;color:white;border:0;padding:10px 16px;border-radius:6px;cursor:pointer;}
  </style>
</head>
<body>
  <div class="container">
    <h2>cart</h2>
    <p>This is a simple shopping cart page example. The quantity can be increased or decreased. The payment is for demonstration (clicking will be regarded as successful payment)</p>

    <table id="cart-table">
      <thead>
        <tr><th>commodity</th><th>unit price</th><th>quantity</th><th>subtotal</th><th>operation</th></tr>
      </thead>
      <tbody>
        <!-- Display. To be used with JavaScript in the later stage. -->
        <tr data-id="1">
          <td>phone A</td>
          <td>¥2399</td>
          <td class="qty">
            <button class="dec">-</button><span class="count">1</span><button class="inc">+</button>
          </td>
          <td class="sub">¥2399</td>
          <td><button class="remove">delete</button></td>
        </tr>
      </tbody>
    </table>

    <div class="checkout">
      <div class="total">total：<span id="total-amount">¥399</span></div>
      <button id="pay-btn" class="pay-btn">pay</button>
    </div>
  </div>

  <script>
  // just display. To be used with JavaScript in the later stage.
  function recalc(){
    let total=0;
    document.querySelectorAll('#cart-table tbody tr').forEach(tr=>{
      const price = Number(tr.querySelector('td:nth-child(2)').innerText.replace('¥',''))||0;
      const qty = Number(tr.querySelector('.count').innerText)||0;
      tr.querySelector('.sub').innerText = '¥'+(price*qty);
      total += price*qty;
    });
    document.getElementById('total-amount').innerText = '¥'+total;
  }

  document.querySelector('#cart-table').addEventListener('click', e=>{
    if(e.target.classList.contains('inc')){
      const c = e.target.parentElement.querySelector('.count'); c.innerText = Number(c.innerText)+1; recalc();
    } else if(e.target.classList.contains('dec')){
      const c = e.target.parentElement.querySelector('.count'); if(Number(c.innerText)>1) c.innerText=Number(c.innerText)-1; recalc();
    } else if(e.target.classList.contains('remove')){
      e.target.closest('tr').remove(); recalc();
    }
  });

  document.getElementById('pay-btn').addEventListener('click', ()=>{
    alert('Payment successful (demo)');
    // Clearing the shopping cart demo
    document.querySelectorAll('#cart-table tbody tr').forEach(tr=>tr.remove());
    recalc();
  });
  </script>
</body>
</html>
